<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/6ad2601fd7.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <title>scheduler</title>
    <style>
        td {
            vertical-align: top;
            text-align: left;
            height: 120px;
            width: 120px;
            color: #3e3e3e;
            border: 1px solid #3e3e3e;
        }
        table {
            border-collapse: collapse;
        }
        th { margin: 10%; }
    </style>
    <script>
        var today = new Date();
        var date = new Date();

        function prevCalendar() {
            today = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
            buildCalendar();
        }
 
        function nextCalendar() {
            today = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate());
            buildCalendar();
        }

        function buildCalendar() {
            var doMonth = new Date(today.getFullYear(), today.getMonth(), 1);
            var lastDate = new Date(today.getFullYear(), today.getMonth()+1, 0);
            var tbCalendar = document.getElementById("calendar");
            var tbCalendarYM = document.getElementById("tbCalendarYM");
            tbCalendarYM.innerHTML = today.getFullYear() + "년 " + (today.getMonth() + 1) + "월";

            while (tbCalendar.rows.length > 2) {
                tbCalendar.deleteRow(tbCalendar.rows.length-1);
            }

            var row = null;
            row = tbCalendar.insertRow();

            var cnt = 0;

            var prevMonthLastDate = new Date(today.getFullYear(), today.getMonth(), 0).getDate();
            for (i = doMonth.getDay() - 1; i >= 0; i--) {
                cell = row.insertCell();
                cell.innerHTML = prevMonthLastDate - i;
                cell.style.color = "#A9A9A9";
                cnt = cnt + 1;
            }

            for (i = 1; i <= lastDate.getDate(); i++) {
                cell = row.insertCell();
                cell.innerHTML = i;
                cnt = cnt + 1;
                if (cnt % 7 == 1) {
                cell.innerHTML = "<font color=#ed2a61>" + i;
                }
                if (cnt % 7 == 0) {
                cell.innerHTML = "<font color=#3c6ffa>" + i;
                row = tbCalendar.insertRow();
                }
                if (today.getFullYear() == date.getFullYear() && today.getMonth() == date.getMonth() && i == date.getDate()) {
                cell.bgColor = "#ddd";
                }
            }

            var nextMonthStartDay = row.cells.length % 7;
            if (nextMonthStartDay < 7) {
                for (i = 1; i <= 7 - nextMonthStartDay; i++) {
                cell = row.insertCell();
                cell.innerHTML = i;
                cell.style.color = "#A9A9A9";
                }
            }
        }
    </script>
</head>
<body>
    <div class="d-flex justify-content-between">
        <div>
            <a href="javascript:prevCalendar()">P</a>
            <span id="tbCalendarYM" colspan="5">yyyy년 m월</span>
            <a href="javascript:nextCalendar()">N</a>
        </div>
    </div>
    <table class="table table-bordered mt-2" id="calendar">
        <tr>
            <th style="color: #ed2a61;">SUN</th>
            <th>MON</th>
            <th>TUE</th>
            <th>WED</th>
            <th>THU</th>
            <th>FRI</th>
            <th style="color: #3c6ffa;">SAT</th>
        </tr>
    </table>
    <script>buildCalendar();</script>
</body>
</html>